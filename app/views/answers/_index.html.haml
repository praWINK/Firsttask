- question.answers.each do |answer|
  .question_answer
    %br
    %span= answer.answer
    %span.Firstname="-"
    %span= answer.user.Firstname
    %span= answer.user.lastname
    - if current_user == answer.user
      %span.answer_edit= link_to 'Edit', edit_question_answer_path(id: answer.id, question_id: question.id)
      %span.answer_destroy= link_to 'Destroy', question_answer_path(id: answer.id, question_id: question.id), method: :delete, data: { confirm: 'Are you sure?' }

    %br/
  - answer.comments.where("history_id IS NULL").each do|c|
    - answer_comment = Comment.show_history(c.id)
    .answer_comment
      %hr
      %span= answer_comment.comment
      %span.Firstname="-"
      %span= current_user.Firstname
      %span= current_user.lastname
      - if current_user == answer_comment.user
        %span.answer_comment_edit= link_to 'Edit', edit_question_answer_comment_path(id: c.id, answer_id: answer.id, question_id:question)
        - unless answer_comment.check_history?
          %span.Firstname= link_to 'Edited',  comments_comment_history_path(history_id: answer_comment.history_id, dont_show: answer_comment.id)
        %span.answer_comment_destroy= link_to 'Destroy', question_comment_path(id: c.id, question_id:question), method: :delete, data: { confirm: 'Are you sure?' }
        %hr
  %span.answer_comment_button= link_to "Answer comment", new_question_answer_comment_path(question, answer_id: answer.id)



